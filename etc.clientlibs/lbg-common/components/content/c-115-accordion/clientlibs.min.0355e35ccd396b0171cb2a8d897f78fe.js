!function(){var y={};!function(){function m(d){var f=d.querySelector(".accordion-tab-view-container \x3e .accordion-list-item-panel");d=d.querySelector(".accordion-list-item.active");if(d&&f&&!f.__list_item__&&(f.__list_item__=d),f&&d){var a=f.parentNode;f=a.removeChild(f);d.insertBefore(f,d.querySelector(".accordion-list-item-link").nextSibling);a.innerHTML="";d.classList.remove("active")}}function u(d){clearTimeout(z);z=setTimeout(d,400)}function v(d){return d.querySelector(".accordion-list-item.active")}
function n(d){return d.querySelector(".accordion-tab-view-container")}function w(d){return d.classList.contains("author-view")}function A(d,f){var a=!1;return d&&f&&f.split(" ").forEach(function(b){a=!!" ".concat(d.className," ").match(" ".concat(b," "))}),a}function B(d,f){for(;d&&!A(d,f);)d=d.parentNode;return d}function G(d,f,a){f=a.length===f+1;a=30*d.querySelectorAll(".table-container").length;var b=window.getComputedStyle(d),c=parseFloat(b.marginTop);b=parseFloat(b.marginBottom);return Math.ceil(d.offsetHeight+
(c+(f?0:b))+a)}function l(d,f){if(!d)return!1;f=Array.from(f.querySelectorAll(".accordion-list-item[data-link]"));if(!f.length)return!1;var a=f.map(function(c){return c.getAttribute("data-link")});d=a.indexOf(d.substring(1));if(0>d)return!1;var b=a[d];return f.find(function(c){return c.getAttribute("data-link")===b})}function x(d){d&&(d=d.querySelector(".accordion-list-item-panel"))&&(d.__list_item__.appendChild(d),delete d.__list_item__)}function p(d){return p="function"==typeof Symbol&&"symbol"==
typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},p(d)}function H(d,f){for(var a=0;a<f.length;a++){var b=f[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);var c=Object,e=c.defineProperty;void 0;a:{var g=b.key;if("object"===p(g)&&null!==g){var h=g[Symbol.toPrimitive];if(void 0!==h){g=h.call(g,"string");if("object"!==p(g))break a;throw new TypeError("@@toPrimitive must return a primitive value.");
}g=String(g)}}e.call(c,d,(k=g,"symbol"===p(k)?k:String(k)),b)}var k}function q(d){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},q(d)}function I(d,f){for(var a=0;a<f.length;a++){var b=f[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);var c=Object,e=c.defineProperty;void 0;a:{var g=b.key;if("object"===q(g)&&
null!==g){var h=g[Symbol.toPrimitive];if(void 0!==h){g=h.call(g,"string");if("object"!==q(g))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}g=String(g)}}e.call(c,d,(k=g,"symbol"===q(k)?k:String(k)),b)}var k}function t(){!0!==window.lbgAccordionsInitialised&&(window.lbgAccordionsInitialised=!0,C=new J,D=new K)}var E=window.location.hash,z=!1,r=883<window.innerWidth;window.addEventListener("resize",function(){r=883<window.innerWidth});var J=function(){function d(){if(!(this instanceof
d))throw new TypeError("Cannot call a class as a function");!0;this.accordionClickHandler=this.accordionClickHandler.bind(this);this.accordionListItemClickHandler=this.accordionListItemClickHandler.bind(this);this.keydownEventListener=this.keydownEventListener.bind(this);this.triggerInPageLink=this.triggerInPageLink.bind(this);this.openHashItem=this.openHashItem.bind(this);this.toggleActive=this.toggleActive.bind(this);this.configure()}var f;return f=[{key:"configure",value:function(){var a,b,c=this;
(this.accordions=r?document.querySelectorAll(".accordion:not(.tab-view)"):document.querySelectorAll(".accordion"))&&(window.addEventListener("resize",this.resizeHandler),this.accordions.forEach(function(e){m(e);c.setupListeners(e)}),this.resetAllAccordions(),this.findAndTriggerHashItem(),a=document.querySelectorAll('a[href*\x3d"#"]'),b=Array.from(document.querySelectorAll(".accordion-list-item[data-link]")),a.length&&b.length&&b.forEach(function(e){var g=e.getAttribute("data-link");a.forEach(function(h){g===
h.getAttribute("href").replace("#","")&&(h.setAttribute("data-in-page-link",h.getAttribute("href")),h.setAttribute("href","javascript:void(0)"))})}),this.inPageLinkClickHandler())}},{key:"resizeHandler",value:function(){r!==883<window.innerWidth&&u(this.resetAllAccordions)}},{key:"findAndTriggerHashItem",value:function(){var a=this;this.accordions.forEach(function(b){(b=l(E,b))&&a.openHashItem(b)})}},{key:"triggerInPageLink",value:function(a){var b=this;a.preventDefault();a.stopImmediatePropagation();
var c=a.target.getAttribute("data-in-page-link");return a.target.blur(),this.accordions.forEach(function(e){(e=l(c,e))&&(e.classList.contains("accordion-list-item-link")?b.openHashItem(e.parentNode):b.openHashItem(e))}),!1}},{key:"openHashItem",value:function(a){var b=a.getBoundingClientRect().top-document.body.getBoundingClientRect().top;this.accordionListItemClickHandler(a);setTimeout(function(){return window.scrollTo(0,b)},200)}},{key:"inPageLinkClickHandler",value:function(){var a=this,b=document.querySelectorAll("a[data-in-page-link]"),
c=this;b.length&&b.forEach(function(e){c.accordions.forEach(function(g){l(e.getAttribute("data-in-page-link"),g)&&e.addEventListener("click",a.triggerInPageLink)})})}},{key:"resetAllAccordions",value:function(){var a=this;this.setAriaAttributes();this.accordions.forEach(function(b){var c=b.querySelectorAll(".accordion-list-item.active");x(n(b));c.forEach(function(e){a.deactivateAccordionItem(e,b)})})}},{key:"activateFirstAccordionItem",value:function(a){var b=a.querySelector(".accordion-list-item"),
c=v(a);c&&c.classList.contains("active")&&this.deactivateAccordionItem(c,a);this.accordionListItemClickHandler(b)}},{key:"activateLastAccordionItem",value:function(a){var b=a.querySelector(".accordion-list-item:last-child"),c=v(a);c&&c.classList.contains("active")&&this.deactivateAccordionItem(c,a);this.accordionListItemClickHandler(b)}},{key:"activatePreviousAccordionItem",value:function(){var a=document.activeElement.closest(".accordion-list-item"),b=a.previousElementSibling,c=a.closest(".accordion-list");
a.classList.contains("active")&&this.deactivateAccordionItem(a,c);b&&b.classList.contains("accordion-list-item")?this.accordionListItemClickHandler(b):this.activateLastAccordionItem(c)}},{key:"activateNextAccordionItem",value:function(){var a=this,b=document.activeElement.closest(".accordion-list-item"),c=b.nextElementSibling,e=b.closest(".accordion-list");b.classList.contains("active")&&this.deactivateAccordionItem(b,e);setTimeout(function(){c&&c.classList.contains("accordion-list-item")?a.accordionListItemClickHandler(c):
a.activateFirstAccordionItem(e)},200)}},{key:"setupListeners",value:function(a){a.addEventListener("click",this.accordionClickHandler);a.addEventListener("keydown",this.keydownEventListener)}},{key:"removeListeners",value:function(){var a=this;void 0!==this.accordions&&this.accordions.forEach(function(b){b.removeEventListener("click",a.accordionClickHandler);b.removeEventListener("keydown",a.keydownEventListener)})}},{key:"deactivateAccordionItem",value:function(a,b){a.querySelector(".accordion-list-item-panel").style.maxHeight=
"";this.toggleActive(a,b)}},{key:"toggleActive",value:function(a){a.classList.toggle("active");var b=a.querySelectorAll(".accordion-list-item-access");b[0].setAttribute("aria-expanded","true");a.classList.contains("active")||b[0].setAttribute("aria-expanded","false")}},{key:"accordionClickHandler",value:function(a){var b=B(a.target,"accordion-list-item-link");if(b){var c=a.target.closest(".accordion"),e=a.target.closest(".accordion-list-item");e&&b.contains(a.target)&&(a.preventDefault(),a.stopPropagation(),
!w(c))&&this.accordionListItemClickHandler(e)}}},{key:"accordionListItemClickHandler",value:function(a){var b,c=a.querySelector(".accordion-list-item-panel"),e=a.classList.contains("active"),g=a.querySelector(".accordion-list-item-access");(function(h,k){h.style.maxHeight="".concat(k,"px")})(c,(b=window.getComputedStyle(c),parseFloat(b.marginTop)+parseFloat(b.marginBottom)+Array.prototype.map.call(c.children,G).reduce(function(h,k){return h+k},0)));this.toggleActive(a,null);e?setTimeout(function(){c.querySelectorAll("img").forEach(function(h){h.style.minHeight=
""});c.style.maxHeight="";g.focus()},0):c.addEventListener("transitionend",function k(){c.removeEventListener("transitionend",k);c.style.maxHeight="none";c.querySelectorAll("img").forEach(function(L){L.style.minHeight="1px"});g.focus()})}},{key:"keydownEventListener",value:function(a){var b=a.keyCode,c=a.target.closest(".accordion"),e=!0;if(!w(c)){switch(b){case 35:this.activateLastAccordionItem(c);break;case 36:this.activateFirstAccordionItem(c);break;case 32:case 13:document.activeElement===a.target&&
this.accordionClickHandler(a);break;case 38:this.activatePreviousAccordionItem();break;case 40:this.activateNextAccordionItem();break;default:e=!1}e&&a.preventDefault()}}},{key:"setAriaAttributes",value:function(){this.accordions.forEach(function(a){var b=a.querySelector(".accordion-list"),c=n(a);a=a.querySelectorAll(".accordion-list-item-access");b.removeAttribute("role");b.removeAttribute("aria-label");c&&c.removeAttribute("role");a.forEach(function(e){e.removeAttribute("aria-selected");e.removeAttribute("tabindex");
e.setAttribute("aria-expanded","false");e.setAttribute("role","button");e.querySelector("span.sr-only").classList.remove("hide")})})}}],f&&H(d.prototype,f),Object.defineProperty(d,"prototype",{writable:!1}),d}(),C,D,K=function(){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");!0;this.clickHandler=this.clickHandler.bind(this);this.tabClickHandler=this.tabClickHandler.bind(this);this.keydownEventListener=this.keydownEventListener.bind(this);this.triggerInPageLink=
this.triggerInPageLink.bind(this);this.openHashItem=this.openHashItem.bind(this);this.toggleActiveTab=this.toggleActiveTab.bind(this);this.configure()}var f;return f=[{key:"configure",value:function(){var a=this;r&&(this.tabs=document.querySelectorAll(".accordion.tab-view"));this.tabs&&(window.addEventListener("resize",this.resizeHandler),this.tabs.forEach(function(b){m(b);a.setupListeners(b)}),this.resetAllTabs(),this.findAndTriggerHashItem(),this.inPageLinkClickHandler())}},{key:"resizeHandler",
value:function(){r!==883<window.innerWidth&&u(this.resetAllTabs)}},{key:"findAndTriggerHashItem",value:function(){var a=this;this.tabs.forEach(function(b){var c=l(E,b);c&&a.openHashItem(c,b)})}},{key:"triggerInPageLink",value:function(a){var b=this;a.preventDefault();a.stopImmediatePropagation();var c=a.target.getAttribute("data-in-page-link");return a.target.blur(),this.tabs.forEach(function(e){var g=l(c,e);g&&(g.classList.contains("accordion-list-item-link")?b.openHashItem(g.parentNode,e):b.openHashItem(g,
e))}),!1}},{key:"openHashItem",value:function(a,b){var c=a.getBoundingClientRect().top-document.body.getBoundingClientRect().top;this.tabClickHandler(a,b);setTimeout(function(){return window.scrollTo(0,c)},200)}},{key:"inPageLinkClickHandler",value:function(){var a=this,b=document.querySelectorAll("a[data-in-page-link]"),c=this;b.length&&b.forEach(function(e){c.tabs.forEach(function(g){l(e.getAttribute("data-in-page-link"),g)&&e.addEventListener("click",a.triggerInPageLink)})})}},{key:"resetAllTabs",
value:function(){var a=this;this.setAriaAttributes();this.tabs.forEach(function(b){var c=b.querySelectorAll(".accordion-list-item.active");x(n(b));c.forEach(function(e){a.deactivateListItem(e,b)});a.activateFirstListItem(b)})}},{key:"activateFirstListItem",value:function(a){var b=a.querySelector(".accordion-list-item");this.tabClickHandler(b,a)}},{key:"activateLastListItem",value:function(a){var b=a.querySelector(".accordion-list-item:last-child");this.tabClickHandler(b,a)}},{key:"activatePreviousListItem",
value:function(a){var b=document.activeElement.closest(".accordion-list-item"),c=b.previousElementSibling;c&&c.classList.contains("accordion-list-item")?this.tabClickHandler(c,a):(a=b.closest(".accordion"),this.activateLastListItem(a))}},{key:"activateNextListItem",value:function(a){var b=document.activeElement.closest(".accordion-list-item"),c=b.nextElementSibling;c&&c.classList.contains("accordion-list-item")?this.tabClickHandler(c,a):(a=b.closest(".accordion"),this.activateFirstListItem(a))}},
{key:"setupListeners",value:function(a){a.addEventListener("click",this.clickHandler);a.addEventListener("keydown",this.keydownEventListener)}},{key:"removeListeners",value:function(){var a=this;void 0!==this.tabs&&this.tabs.forEach(function(b){b.removeEventListener("click",a.clickHandler);b.removeEventListener("keydown",a.keydownEventListener)})}},{key:"deactivateListItem",value:function(a){a.querySelector(".accordion-list-item-panel").style.maxHeight="";this.toggleActiveTab(a)}},{key:"toggleActiveTab",
value:function(a){a.classList.toggle("active");var b=a.querySelectorAll(".accordion-list-item-access"),c=a.querySelectorAll(".accordion-heading"),e=a.closest(".accordion").querySelectorAll(".accordion-list-item:not(.active) div \x3e .accordion-heading"),g=a.closest(".accordion").querySelectorAll(".accordion-list-item:not(.active) div \x3e .accordion-heading \x3e a");c[0].setAttribute("aria-selected","true");c[0].setAttribute("tabindex",0);a.classList.contains("active")||(b[0].setAttribute("aria-selected",
"false"),b[0].setAttribute("tabindex",-1),c[0].setAttribute("aria-selected","false"),c[0].setAttribute("tabindex",-1));g.forEach(function(h){h.setAttribute("tabindex",-1)});c.forEach(function(h){h.removeAttribute("aria-expanded");h.setAttribute("tabindex",0);h.setAttribute("role","tab")});e.forEach(function(h){h.setAttribute("tabindex",-1);h.setAttribute("role","tab")})}},{key:"clickHandler",value:function(a){var b=B(a.target,"accordion-list-item-link");if(b){var c=a.target.closest(".accordion"),
e=a.target.closest(".accordion-list-item");e&&b.contains(a.target)&&(a.preventDefault(),a.stopPropagation(),this.tabClickHandler(e,c))}}},{key:"tabClickHandler",value:function(a,b){var c=v(b);b=n(b);var e=a.querySelector(".accordion-heading");if(A(a,"active"))e.focus();else{c&&(this.toggleActiveTab(c),b.setAttribute("tabindex","0"),b.setAttribute("aria-hidden","false"),e.focus());x(b);var g;c=(".accordion-list-item-panel",g=a.querySelector(".accordion-list-item-panel"),a.removeChild(g),g);b.appendChild(c);
c.__list_item__=a;this.toggleActiveTab(a)}}},{key:"keydownEventListener",value:function(a){var b=a.keyCode,c=a.target.closest(".accordion");if(!w(c))switch(b){case 35:a.preventDefault();this.activateLastListItem(c);break;case 36:a.preventDefault();this.activateFirstListItem(c);break;case 37:this.activatePreviousListItem(c);break;case 39:this.activateNextListItem(c)}}},{key:"setAriaAttributes",value:function(){this.tabs.forEach(function(a){var b=a.querySelector(".accordion-list"),c=n(a);a=a.querySelectorAll(".accordion-list-item-access");
var e="Tab control with ".concat(a.length," tabs");b.setAttribute("role","tablist");b.setAttribute("aria-label",e);c.setAttribute("role","tabpanel");a.forEach(function(g){g.setAttribute("tabindex","-1");g.querySelector("span.sr-only").classList.add("hide")})})}}],I(d.prototype,f),Object.defineProperty(d,"prototype",{writable:!1}),d}(),F=window.innerWidth;window.addEventListener("DOMContentLoaded",t);window.addEventListener("dynamic-accordions",t);"complete"===document.readyState&&t();window.addEventListener("resize",
function(){window.innerWidth!==F&&u(function(){try{window.lbgAccordionsInitialised=!1,F=window.innerWidth,C.removeListeners(),D.removeListeners(),t()}catch(d){console.error(d)}})})}();(function(m){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"});Object.defineProperty(m,"__esModule",{value:!0})})(y);window["c-115-accordion"]=y}();